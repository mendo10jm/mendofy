(function(t){function i(i){for(var e,o,r=i[0],l=i[1],c=i[2],u=0,h=[];u<r.length;u++)o=r[u],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&h.push(n[o][0]),n[o]=0;for(e in l)Object.prototype.hasOwnProperty.call(l,e)&&(t[e]=l[e]);d&&d(i);while(h.length)h.shift()();return s.push.apply(s,c||[]),a()}function a(){for(var t,i=0;i<s.length;i++){for(var a=s[i],e=!0,o=1;o<a.length;o++){var l=a[o];0!==n[l]&&(e=!1)}e&&(s.splice(i--,1),t=r(r.s=a[0]))}return t}var e={},n={app:0},s=[];function o(t){return r.p+"js/"+({about:"about"}[t]||t)+"."+{about:"153be36d"}[t]+".js"}function r(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.e=function(t){var i=[],a=n[t];if(0!==a)if(a)i.push(a[2]);else{var e=new Promise((function(i,e){a=n[t]=[i,e]}));i.push(a[2]=e);var s,l=document.createElement("script");l.charset="utf-8",l.timeout=120,r.nc&&l.setAttribute("nonce",r.nc),l.src=o(t);var c=new Error;s=function(i){l.onerror=l.onload=null,clearTimeout(u);var a=n[t];if(0!==a){if(a){var e=i&&("load"===i.type?"missing":i.type),s=i&&i.target&&i.target.src;c.message="Loading chunk "+t+" failed.\n("+e+": "+s+")",c.name="ChunkLoadError",c.type=e,c.request=s,a[1](c)}n[t]=void 0}};var u=setTimeout((function(){s({type:"timeout",target:l})}),12e4);l.onerror=l.onload=s,document.head.appendChild(l)}return Promise.all(i)},r.m=t,r.c=e,r.d=function(t,i,a){r.o(t,i)||Object.defineProperty(t,i,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,i){if(1&i&&(t=r(t)),8&i)return t;if(4&i&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&i&&"string"!=typeof t)for(var e in t)r.d(a,e,function(i){return t[i]}.bind(null,e));return a},r.n=function(t){var i=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(i,"a",i),i},r.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},r.p="/",r.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],c=l.push.bind(l);l.push=i,l=l.slice();for(var u=0;u<l.length;u++)i(l[u]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(t,i,a){t.exports=a("56d7")},"034f":function(t,i,a){"use strict";var e=a("85ec"),n=a.n(e);n.a},"56d7":function(t,i,a){"use strict";a.r(i);a("e260"),a("e6cf"),a("cca6"),a("a79d");var e=a("2b0e"),n=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{attrs:{id:"app"}},[a("div",{attrs:{id:"nav"}},[a("router-link",{attrs:{to:"/"}},[t._v("Home")]),t._v(" | "),a("router-link",{attrs:{to:"/notas"}},[t._v("Notas")]),t._v("| "),a("router-link",{attrs:{to:"/about"}},[t._v("About")])],1),a("router-view")],1)},s=[],o=(a("034f"),a("2877")),r={},l=Object(o["a"])(r,n,s,!1,null,null,null),c=l.exports,u=(a("d3b7"),a("8c4f")),d=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"home"},[a("Mendofy",{attrs:{msg:"Welcome to Your Vue.js App"}})],1)},h=[],f=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"hello"},[e("header",[e("h1",{directives:[{name:"b-toggle",rawName:"v-b-toggle.sidebar-1",modifiers:{"sidebar-1":!0}}]},[t._v("Mendofy")])]),e("main",[e("div",[e("b-sidebar",{attrs:{id:"sidebar-1",title:"Mendofy Info",shadow:""}},[e("div",{staticClass:"px-3 py-2"},[e("p",[t._v(" Buenas¡¡¡ Gracias por visitar mendofy, esto es un proyecto creado para la asignatura multimedia de la Universidad de Jaén. ")])])])],1),e("img",{staticClass:"circular--square",attrs:{alt:"Vue logo",src:a("b640")}}),e("section",{staticClass:"player"},[e("h2",{staticClass:"song-title"},[t._v(" "+t._s(t.actual.titulo)+" - "),e("span",[t._v(t._s(t.actual.artista))])]),e("div",{staticClass:"control"},[e("b-button",{staticClass:"mx-2",attrs:{pill:"",variant:"outline-secondary"},on:{click:t.ant}},[e("b-icon",{attrs:{icon:"skip-start-fill"}}),t._v("Anterior ")],1),e("meta",{attrs:{"http-equiv":"Cache-Control",content:"no-cache, no-store, must-revalidate"}}),e("meta",{attrs:{"http-equiv":"Pragma",content:"no-cache"}}),e("meta",{attrs:{"http-equiv":"Expires",content:"0"}}),e("audio",{ref:"foo",attrs:{src:t.actual.src,controls:"true",autoplay:""}}),e("b-button",{staticClass:"mx-2",attrs:{pill:"",variant:"outline-secondary"},on:{click:t.sig}},[t._v(" Siguiente "),e("b-icon",{attrs:{icon:"skip-end-fill"}})],1)],1),e("div",{staticClass:"add mt-3"},[e("av-waveform",{attrs:{"ref-link":"foo","canv-height":40,playtime:!1}})],1)]),e("section",{staticClass:"add mt-3"},[e("div",{staticClass:"add_button"},[t.isplaylist||t.isfav?t._e():e("b-button",{staticClass:"mx-2",attrs:{pill:"",variant:"outline-secondary"},on:{click:t.add_playlist}},[t._v(" Añadir a Playlist "),e("b-icon",{attrs:{icon:"plus-circle-fill"}})],1),t.isplaylist||t.isfav?t._e():e("b-button",{staticClass:"mx-2",attrs:{pill:"",variant:"outline-secondary"},on:{click:t.add_fav}},[t._v(" Añadir a Fav "),e("b-icon",{attrs:{icon:"heart-fill"}})],1),t.isplaylist?e("b-button",{staticClass:"mx-2",attrs:{pill:"",variant:"outline-secondary"},on:{click:function(i){t.eliminar_playlist,t.makeToast("Canción Eliminada de Playlist")}}},[t._v(" Eliminar de Playlist ")]):t._e(),t.isfav?e("b-button",{staticClass:"mx-2",attrs:{pill:"",variant:"outline-secondary"},on:{click:function(i){t.eliminar_fav,t.makeToast("Canción Eliminada de Favoritos")}}},[t._v(" Eliminar de Favoritos "),e("b-icon",{attrs:{icon:"skip-end-fill"}})],1):t._e()],1)]),e("br"),e("section",[e("section",{staticClass:"playlist"},[e("div",[e("b-tabs",{attrs:{"content-class":"mt-3",align:"center"}},[e("b-tab",{attrs:{title:"Canciones Disponibles",active:""}},[e("div",[e("b-button-group",{attrs:{vertical:""}},t._l(t.songs,(function(i){return e("b-button",{key:i.src,class:i.src==t.actual.src?"Cacion sonando":"song",on:{click:function(a){return t.play(i)}}},[t._v(t._s(i.titulo)+" - "+t._s(i.artista))])})),1)],1)]),e("b-tab",{attrs:{title:"Mi Playlist"}},[e("div",[e("b-button-group",{attrs:{vertical:""}},t._l(t.Listplay,(function(i){return e("b-button",{key:i.src,class:i.src==t.actual.src?"Cacion sonando":"song",on:{click:function(a){return t.play(i)}}},[t._v(" "+t._s(i.titulo)+" - "+t._s(i.artista)+" ")])})),1)],1)]),e("b-tab",{attrs:{title:"Fav"}},[e("div",[e("b-button-group",{attrs:{vertical:""}},t._l(t.Listfav,(function(i){return e("b-button",{key:i.src,class:i.src==t.actual.src?"Cacion sonando":"song",on:{click:function(a){return t.play(i)}}},[t._v(" "+t._s(i.titulo)+" - "+t._s(i.artista)+" ")])})),1)],1)])],1)],1)])])])])},p=[],m=(a("4de4"),a("4160"),a("caad"),a("2532"),a("159b"),a("f9e3"),a("2dd8"),a("99af"),a("fb6a"),a("a9e3"),{audioSrc:{type:String,default:null},refLink:{type:String,default:null},audioControls:{type:Boolean,default:!0},corsAnonym:{type:Boolean,default:!1},audioClass:{type:String,default:null},canvWidth:{type:Number,default:300},canvHeight:{type:Number,default:80},canvClass:{type:String,default:null},canvTop:{type:Boolean,default:!1},canvFillColor:{type:[String,Array],default:null}}),v={createHTMLElements:function(){var t=document.createElement("canvas"),i=document.createElement("div"),a=null,e=null;this.refLink?e=this.$parent.$refs[this.refLink]:(e=document.createElement("audio"),a=document.createElement("div"),e.setAttribute("src",this.audioSrc),this.audioControls&&e.setAttribute("controls",!0),this.audioClass&&e.setAttribute("class",this.audioClass),this.corsAnonym&&(e.crossOrigin="anonymous"),a.appendChild(e),this.$el.appendChild(a)),this.canvClass&&t.setAttribute("class",this.canvClass),this.canvWidth&&t.setAttribute("width",this.canvWidth),this.canvHeight&&t.setAttribute("height",this.canvHeight),i.appendChild(t),this.canvTop?this.$el.insertBefore(i,a):this.$el.appendChild(i),this.ctxWrapper=t,this.ctx=t.getContext("2d"),this.audio=e,this.audio.load()},setAnalyser:function(){this.audioCtx=new AudioContext,this.analyser=this.audioCtx.createAnalyser();var t=this.audioCtx.createMediaElementSource(this.audio);t.connect(this.analyser),this.analyser.fftSize=this.fftSize,this.analyser.connect(this.audioCtx.destination)},fillGradient:function(t){var i=this.canvWidth,a=this.canvHeight,e=this.ctx.createLinearGradient(i/2,0,i/2,a),n=0;return t.forEach((function(i){e.addColorStop(n,i),n+=1/t.length})),e}},y={props:m,render:function(t){return t("div")},mounted:function(){var t=this;this.createHTMLElements(),this.audio.onclick=function(){t.audioCtx||t.setAnalyser()},this.audio.onplay=function(){t.audioCtx||t.setAnalyser(),t.mainLoop(),t.audioCtx&&t.audioCtx.resume()},this.audio.onpause=function(){t.audioCtx&&(t.audioCtx.suspend(),cancelAnimationFrame(t.animId))}},beforeDestroy:function(){this.audioCtx&&this.audioCtx.suspend(),cancelAnimationFrame(this.animId)},methods:v},b=a("bc3a"),g=a.n(b),x=g.a,C={canvWidth:{type:Number,default:500},canvHeight:{type:Number,default:80},playedLineWidth:{type:Number,default:.5},playedLineColor:{type:String,default:"navy"},noplayedLineWidth:{type:Number,default:.5},noplayedLineColor:{type:String,default:"lime"},playtime:{type:Boolean,default:!0},playtimeWithMs:{type:Boolean,default:!0},playtimeFontSize:{type:Number,default:12},playtimeFontFamily:{type:String,default:"monospace"},playtimeFontColor:{type:String,default:"grey"},playtimeTextBottom:{type:Boolean,default:!1},playtimeSlider:{type:Boolean,default:!0},playtimeSliderColor:{type:String,default:"red"},playtimeSliderWidth:{type:Number,default:1},playtimeClickable:{type:Boolean,default:!0}},_={name:"av-waveform",mixins:[y],props:C,data:function(){return{animId:null,ctxWrapper:null,ctx:null,audio:null,duration:null,peaks:[]}},mounted:function(){var t=this,i={responseType:"arraybuffer",onDownloadProgress:this.downloadProgress};x.get(this.audio.src,i).then((function(i){return t.decode(i)})).catch((function(i){console.error("Failed to get file '".concat(t.audio.src,"'")),console.log(i)})),this.audio.onplay=function(){t.animId=requestAnimationFrame(t.waveformAnim)},this.audio.onpause=function(){cancelAnimationFrame(t.animId),t.animId=null}},methods:{setAnalyser:function(){return null},mainLoop:function(){return null},decode:function(t){var i=this,a=new AudioContext;a.decodeAudioData(t.data,(function(t){i.setPeaks(t)}),(function(t){console.error("Failed to decode audio data."),console.log(t)}))},setPeaks:function(t){var i=this,a=[],e=0,n=0,s=0,o=0,r=Math.ceil(t.length/this.canvWidth),l=this.canvWidth,c=this.canvHeight;this.duration=t.duration;for(var u=0;u<t.numberOfChannels;u++)for(var d=t.getChannelData(u),h=0;h<l;h++){var f=~~(h*r),p=~~(f+r);e=0,n=0;for(var m=f;m<p;m++)e=d[m]<e?d[m]:e,n=d[m]>n?d[m]:n;a[h]&&(a[h][0]=a[h][0]<n?n:a[h][0],a[h][1]=a[h][1]>e?e:a[h][1]),a[h]=[n,e]}for(var v=0;v<a.length;v++)n=a[v][0],e=a[v][1],s=c/2-n*c/2,o=c/2-e*c/2,a[v]=[s,o===s?s+1:o];this.peaks=a,this.playtimeClickable&&this.ctxWrapper.addEventListener("click",(function(t){return i.updateTime(t)})),this.waveform()},waveform:function(){var t=this.peaks,i=this.audio.currentTime,a=this.playX(i),e=0;this.ctx.clearRect(0,0,this.canvWidth,this.canvHeight),e=this.draw(t.slice(0,a),this.playedLineWidth,this.playedLineColor,e),this.draw(t.slice(a),this.noplayedLineWidth,this.noplayedLineColor,e),this.drawSlider(i),this.drawTime(i)},waveformAnim:function(){this.waveform(),this.animId=requestAnimationFrame(this.waveformAnim)},draw:function(t,i,a,e){var n=this;return this.ctx.lineWidth=i,this.ctx.strokeStyle=a,this.ctx.beginPath(),t.forEach((function(t){n.ctx.moveTo(e,t[0]),n.ctx.lineTo(e,t[1]),e++})),this.ctx.stroke(),e},timeFormat:function(t){var i="",a=parseFloat(t);if(isNaN(a))return i;var e=~~(a/60),n=~~(a%60),s=~~(a%1*1e3);return i=e<10?"0".concat(e,":"):"".concat(e,":"),i+="0".concat(n).substr(-2),this.playtimeWithMs&&(i+="."+"00".concat(s).substr(-3)),i},drawTime:function(t){var i=this.timeFormat(t),a=3,e=~~this.ctx.measureText(i).width,n=this.playX(t),s=n>this.canvWidth-e-a?n-e-a:n+a,o=this.playtimeTextBottom?this.canvHeight-this.playtimeFontSize+a:this.playtimeFontSize+a;this.ctx.fillStyle=this.playtimeFontColor,this.ctx.font="".concat(this.playtimeFontSize,"px ").concat(this.playtimeFontFamily),this.ctx.fillText(i,s,o)},drawSlider:function(t){var i=this.playX(t);this.ctx.lineWidth=this.playtimeSliderWidth,this.ctx.strokeStyle=this.playtimeSliderColor,this.ctx.beginPath(),this.ctx.moveTo(i,0),this.ctx.lineTo(i,this.canvHeight),this.ctx.stroke()},playX:function(t){return~~(t/this.duration*this.canvWidth)},updateTime:function(t){this.audio.currentTime=t.offsetX/this.canvWidth*this.duration,this.animId||this.waveform()},downloadProgress:function(t){var i=Math.round(t.loaded/t.total*this.canvWidth);this.ctx.clearRect(0,0,this.canvWidth,this.canvHeight),this.ctx.beginPath(),this.ctx.strokeStyle=this.noplayedLineColor,this.ctx.moveTo(0,this.canvHeight/2),this.ctx.lineTo(i,this.canvHeight/2),this.ctx.stroke()}}},k=_,w={name:"Mendofy",components:{AvWaveform:k},data:function(){return{actual:{},index:0,isplaying:!1,isplaylist:!1,isfav:!1,mediaNotSupported:!1,showMedia:!1,songs:[{id:1,titulo:"Frozen Desert",artista:"iseo & dodosound",src:a("825a9")}],songs_playlist:[],songs_fav:[],player:new Audio}},methods:{listarCanciones:function(){var t=this;this.axios.get("/cancion").then((function(i){t.songs=i.data})).catch((function(t){console.log("error"+t)}))},play:function(t){"undefined"!=typeof t.src&&(this.actual=t,this.player.src=this.actual.src),this.player.play(),this.isplaying=!0},pause:function(){this.player.pause(),this.isplaying=!1},ant:function(){this.index--,this.index<0&&(this.index=this.songs.length-1),this.actual=this.songs[this.index]},sig:function(){this.index++,this.index>this.songs.length-1&&(this.index=0),this.actual=this.songs[this.index]},add_playlist:function(){this.songs_playlist.includes(this.actual.id)?this.makeToast(" La Canción ya está añadida a Mi Playlist","danger"):(this.makeToast("Canción añadida a Mi Playlist","success"),this.songs_playlist.push(this.actual.id))},add_fav:function(){this.songs_fav.includes(this.actual.id)?this.makeToast(" La Canción ya está añadida a Favoritos","danger"):(this.makeToast("Canción añadida a Favoritos","success"),this.songs_fav.push(this.actual.id))},eliminar_playlist:function(){this.songs},eliminar_fav:function(){this.songs},makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";this.$bvToast.toast(t,{title:"Mendofy Alerta",autoHideDelay:4e3,variant:i,appendToast:!0})}},created:function(){this.listarCanciones(),this.actual=this.songs[this.index],this.player.src=this.actual.src},computed:{Listplay:function(){var t=this,i={},a=[];return this.songs_playlist.forEach((function(e){i=t.songs.filter((function(t){return t.id===e})),a.push(i[0])})),a},Listfav:function(){var t=this,i={},a=[];return this.songs_fav.forEach((function(e){i=t.songs.filter((function(t){return t.id===e})),a.push(i[0])})),a}},mounted:function(){navigator.mediaDevices||(this.mediaNotSupported=!0)}},S=w,A=(a("af74"),Object(o["a"])(S,f,p,!1,null,"12c959da",null)),T=A.exports,F={name:"Home",components:{Mendofy:T}},W=F,L=(a("d44c"),Object(o["a"])(W,d,h,!1,null,"02861766",null)),P=L.exports;e["default"].use(u["a"]);var E=[{path:"/",name:"Home",component:P},{path:"/about",name:"About",component:function(){return a.e("about").then(a.bind(null,"f820"))}},{path:"/notas",name:"notas",component:function(){return a.e("about").then(a.bind(null,"c93e"))}}],M=new u["a"]({mode:"history",base:"/",routes:E}),H=M,j=a("2f62");e["default"].use(j["a"]);var O=new j["a"].Store({state:{},mutations:{},actions:{},modules:{}}),N=a("5f5b"),B=a("b1e0"),$=a("a7fe"),I=a.n($);e["default"].use(I.a,g.a),e["default"].use(N["a"]),e["default"].use(B["a"]),g.a.defaults.baseURL="http://localhost:3000/api",e["default"].config.productionTip=!1,e["default"].config.devtools=!0,new e["default"]({router:H,store:O,render:function(t){return t(c)}}).$mount("#app")},5957:function(t,i,a){},"825a9":function(t,i,a){t.exports=a.p+"media/iseo-dodosound-frozen-desert.40cafbe0.mp3"},"85ec":function(t,i,a){},af74:function(t,i,a){"use strict";var e=a("5957"),n=a.n(e);n.a},b640:function(t,i,a){t.exports=a.p+"img/logo.c9688af3.jpg"},b7bc:function(t,i,a){},d44c:function(t,i,a){"use strict";var e=a("b7bc"),n=a.n(e);n.a}});
//# sourceMappingURL=app.f82d6435.js.map